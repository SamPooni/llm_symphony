<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The LLM Symphony ‚Äî Complete Training & Inference Lifecycle</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #000; min-height: 100vh; }
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }
    
    @keyframes pulse-glow {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 0.8; }
    }
    
    @keyframes flow-right {
      0% { transform: translateX(-10px); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateX(10px); opacity: 0; }
    }
    
    .animate-pulse-glow { animation: pulse-glow 3s ease-in-out infinite; }
    .animate-flow { animation: flow-right 2s ease-in-out infinite; }
    
    .card-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .card-hover:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.5);
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;

    function LLMSymphony() {
      const [hoveredCard, setHoveredCard] = useState(null);

      // ============== MOVEMENT I: FOUNDATION (14 files) ==============
      // Core Architecture
      const foundationCore = [
        {
          id: 'tokenization',
          title: 'Tokenization',
          subtitle: 'BPE, WordPiece, SentencePiece',
          file: 'movement1_foundation/TOKENIZATION_bpe_wordpiece_sentencepiece.html',
          color: 'cyan',
          icon: 'üî§',
          topics: ['BPE', 'Vocab building', 'Subword', 'Special tokens']
        },
        {
          id: 'embeddings',
          title: 'Embeddings & Vectors',
          subtitle: 'Vector search deep dive',
          file: 'movement1_foundation/EMBEDDINGS_vector_search_deep_dive.html',
          color: 'blue',
          icon: 'üìä',
          topics: ['Word2Vec', 'Similarity', 'ANN', 'HNSW']
        },
        {
          id: 'attention',
          title: 'Attention Mechanisms',
          subtitle: 'MHA, GQA, FlashAttention',
          file: 'movement1_foundation/ATTENTION_variants_mha_gqa_flash.html',
          color: 'violet',
          icon: 'üëÅÔ∏è',
          topics: ['Q,K,V', 'Multi-head', 'KV cache', 'Flash tiling']
        },
        {
          id: 'moe',
          title: 'Mixture of Experts',
          subtitle: 'Sparse routing, load balancing',
          file: 'movement1_foundation/MOE_mixture_of_experts.html',
          color: 'orange',
          icon: 'üîÄ',
          topics: ['Router', 'Top-k', 'Expert parallel', 'Mixtral']
        },
      ];

      const foundationScaling = [
        {
          id: 'scaling',
          title: 'Scaling Laws',
          subtitle: 'C = 6ND, Chinchilla',
          file: 'movement1_foundation/SCALING_LAWS_compute_optimal.html',
          color: 'amber',
          icon: 'üìà',
          topics: ['Power laws', 'Compute-optimal', 'Token ratios', 'Loss prediction']
        },
        {
          id: 'hardware',
          title: 'Hardware Architecture',
          subtitle: 'GPUs, Memory, Interconnects',
          file: 'movement1_foundation/HARDWARE_architecture_gpus_memory.html',
          color: 'green',
          icon: 'üñ•Ô∏è',
          topics: ['H100/A100', 'HBM', 'NVLink', 'InfiniBand']
        },
        {
          id: 'model-zoo',
          title: 'Model Zoo',
          subtitle: 'Architecture comparison',
          file: 'movement1_foundation/MODEL_ZOO_architecture_comparison.html',
          color: 'purple',
          icon: 'ü¶Å',
          topics: ['GPT', 'LLaMA', 'Mistral', 'Falcon', 'Comparison']
        },
      ];

      const foundationContext = [
        {
          id: 'context',
          title: 'Context Extension',
          subtitle: 'RoPE scaling, YaRN',
          file: 'movement1_foundation/CONTEXT_EXTENSION_rope_yarn.html',
          color: 'indigo',
          icon: 'üìè',
          topics: ['Position interpolation', 'NTK-aware', 'Sliding window']
        },
        {
          id: 'long-context',
          title: 'Long Context',
          subtitle: 'Extended context techniques',
          file: 'movement1_foundation/LONG_CONTEXT_techniques.html',
          color: 'sky',
          icon: 'üìú',
          topics: ['Sparse attention', 'Memory', 'Compression']
        },
      ];

      const foundationModalities = [
        {
          id: 'multimodal',
          title: 'Multimodal VLMs',
          subtitle: 'Vision-language models',
          file: 'movement1_foundation/MULTIMODAL_vlm_vision_language.html',
          color: 'rose',
          icon: 'üñºÔ∏è',
          topics: ['CLIP', 'LLaVA', 'Vision encoder', 'Cross-attention']
        },
        {
          id: 'voice',
          title: 'Voice & Audio',
          subtitle: 'Speech LLMs',
          file: 'movement1_foundation/VOICE_AUDIO_llms.html',
          color: 'pink',
          icon: 'üé§',
          topics: ['Whisper', 'TTS', 'Audio tokens']
        },
      ];

      const foundationPatterns = [
        {
          id: 'patterns-core',
          title: 'Core Interaction Patterns',
          subtitle: 'Prompting fundamentals',
          file: 'movement1_foundation/LLM_PATTERNS_core_interaction.html',
          color: 'teal',
          icon: 'üí¨',
          topics: ['Few-shot', 'Zero-shot', 'System prompts', 'Templates']
        },
        {
          id: 'patterns-reasoning',
          title: 'Reasoning Patterns',
          subtitle: 'Cognitive architectures',
          file: 'movement1_foundation/LLM_PATTERNS_reasoning_cognitive.html',
          color: 'emerald',
          icon: 'üß†',
          topics: ['CoT', 'Self-consistency', 'Decomposition', 'Verification']
        },
        {
          id: 'patterns-router',
          title: 'Router & Cascade',
          subtitle: 'Model selection patterns',
          file: 'movement1_foundation/LLM_PATTERNS_router_cascade.html',
          color: 'lime',
          icon: 'üîÄ',
          topics: ['Routing', 'Fallback', 'Cost optimization']
        },
      ];

      // ============== MOVEMENT II: PRE-TRAINING (12 files) ==============
      const trainingStages = [
        { id: '0', title: 'Data Pipeline', subtitle: 'Cluster, cleaning, tokenization', file: 'movement2_pre_training/STAGE_0_training_data_pipeline.html', color: 'cyan', icon: 'üìä' },
        { id: '1', title: 'Model Init', subtitle: 'Architecture, DP/TP/PP', file: 'movement2_pre_training/STAGE_1_training_model_init.html', color: 'pink', icon: 'üèóÔ∏è' },
        { id: '2', title: 'Forward Pass', subtitle: 'Embed ‚Üí Attention ‚Üí MLP', file: 'movement2_pre_training/STAGE_2_training_forward_pass.html', color: 'green', icon: '‚û°Ô∏è' },
        { id: '3', title: 'Loss Computation', subtitle: 'Cross-entropy, scaling', file: 'movement2_pre_training/STAGE_3_training_loss_computation.html', color: 'red', icon: 'üìâ' },
        { id: '4', title: 'Backward Pass', subtitle: 'Autograd, checkpointing', file: 'movement2_pre_training/STAGE_4_training_backward_pass.html', color: 'orange', icon: '‚¨ÖÔ∏è' },
        { id: '5', title: 'Gradient Sync', subtitle: 'AllReduce, FSDP', file: 'movement2_pre_training/STAGE_5_training_gradient_sync.html', color: 'purple', icon: 'üîÑ' },
        { id: '6', title: 'Optimizer Step', subtitle: 'AdamW, LR schedule', file: 'movement2_pre_training/STAGE_6_training_optimizer_step.html', color: 'emerald', icon: 'üìà' },
        { id: '7', title: 'Checkpointing', subtitle: 'Save, monitor, eval', file: 'movement2_pre_training/STAGE_7_training_checkpointing_monitoring.html', color: 'sky', icon: 'üíæ' },
      ];

      const trainingOverviews = [
        { id: 'train-overview', title: 'AI Training Pipeline', subtitle: 'Complete overview', file: 'movement2_pre_training/AI-Training-Pipeline.html', icon: 'üè≠', color: 'slate' },
        { id: 'train-flow', title: 'Training Pipeline Flow', subtitle: 'Visual flow diagram', file: 'movement2_pre_training/training-pipeline-flow.html', icon: 'üåä', color: 'blue' },
        { id: 'distributed', title: 'Distributed Training', subtitle: 'FSDP, DeepSpeed', file: 'movement2_pre_training/DISTRIBUTED_training_fsdp_deepspeed.html', icon: 'üåê', color: 'violet' },
        { id: 'synthetic', title: 'Synthetic Data', subtitle: 'Distillation techniques', file: 'movement2_pre_training/SYNTHETIC_DATA_distillation.html', icon: 'üß™', color: 'teal' },
      ];

      // ============== MOVEMENT III: ALIGNMENT (6 files) ==============
      const alignmentCore = [
        {
          id: 'post-training',
          title: 'Post-Training Pipeline',
          subtitle: 'SFT ‚Üí RLHF/DPO ‚Üí Safety',
          file: 'movement3_alignment/POST_TRAINING_sft_rlhf_dpo.html',
          color: 'pink',
          icon: 'üéØ',
          topics: ['SFT loss', 'Reward model', 'PPO', 'DPO']
        },
        {
          id: 'alignment-rlhf',
          title: 'RLHF & Constitutional AI',
          subtitle: 'Alignment techniques',
          file: 'movement3_alignment/ALIGNMENT_rlhf_constitutional_ai_dpo.html',
          color: 'purple',
          icon: '‚öñÔ∏è',
          topics: ['Reward modeling', 'PPO', 'Constitutional AI', 'DPO']
        },
        {
          id: 'finetuning',
          title: 'Fine-tuning Guide',
          subtitle: 'LoRA, QLoRA, PEFT',
          file: 'movement3_alignment/FINETUNING_lora_qlora_peft_guide.html',
          color: 'indigo',
          icon: 'üîß',
          topics: ['LoRA', 'QLoRA', 'Adapters', 'PEFT']
        },
      ];

      const alignmentEval = [
        {
          id: 'evaluation',
          title: 'Evaluation & Benchmarks',
          subtitle: 'MMLU, HumanEval, etc.',
          file: 'movement3_alignment/EVALUATION_benchmarks_mmlu_humaneval.html',
          color: 'amber',
          icon: 'üìä',
          topics: ['MMLU', 'HumanEval', 'MT-Bench', 'Leaderboards']
        },
        {
          id: 'safety',
          title: 'Safety & Guardrails',
          subtitle: 'Red teaming, filters',
          file: 'movement3_alignment/SAFETY_guardrails_redteaming.html',
          color: 'red',
          icon: 'üõ°Ô∏è',
          topics: ['Red teaming', 'Guardrails', 'Content filters', 'Jailbreaks']
        },
        {
          id: 'merging',
          title: 'Model Merging',
          subtitle: 'SLERP, TIES, DARE',
          file: 'movement3_alignment/MODEL_MERGING_slerp_ties.html',
          color: 'teal',
          icon: 'üîÄ',
          topics: ['SLERP', 'TIES', 'Task vectors', 'Frankenmerging']
        },
      ];

      // ============== MOVEMENT IV: INFERENCE (12 files) ==============
      const inferenceStages = [
        { id: 'inf-0', title: 'Pre-Model Setup', subtitle: 'Config, loading, warmup', file: 'movement4_inference/STAGE 0 - pre-model-diagram.html', color: 'slate', icon: '‚öôÔ∏è' },
        { id: 'inf-1-2', title: 'Input & Tokenization', subtitle: 'Normalize, encode, template', file: 'movement4_inference/STAGES 1-2 - input-normalization-tokenization.html', color: 'blue', icon: 'üìù' },
        { id: 'inf-3-4', title: 'Prompt & Prefill', subtitle: 'Assembly, KV cache build', file: 'movement4_inference/STAGES 3-4-prompt-assembly-prefill.html', color: 'indigo', icon: 'üì•' },
        { id: 'inf-5-6', title: 'KV Cache & Decode', subtitle: 'Autoregressive loop', file: 'movement4_inference/STAGES 5-6-kv-cache-decode-loop.html', color: 'purple', icon: 'üîÑ' },
        { id: 'inf-7-9', title: 'Sampling & Stopping', subtitle: 'Temp, top-k/p, EOS', file: 'movement4_inference/STAGES 7-9- sampling-stop-conditions.html', color: 'orange', icon: 'üé≤' },
        { id: 'inf-10-13', title: 'Streaming & Output', subtitle: 'Detokenize, post-process', file: 'movement4_inference/STAGES 10-13-streaming-post-processing.html', color: 'green', icon: 'üì§' },
      ];

      const inferenceOverviews = [
        { id: 'inf-tok', title: 'Tokenization Deep Dive', subtitle: 'Input processing', file: 'movement4_inference/INFERENCE_1_tokenization_input.html', icon: 'üî§', color: 'cyan' },
        { id: 'inf-lifecycle', title: 'Inference Lifecycle', subtitle: 'Complete diagram', file: 'movement4_inference/inference-lifecycle-diagram.html', icon: '‚ôªÔ∏è', color: 'teal' },
        { id: 'inf-flow', title: 'Pipeline Flow', subtitle: 'Visual flow diagram', file: 'movement4_inference/inference-pipeline-flow.html', icon: 'üåä', color: 'sky' },
      ];

      const inferenceOptimization = [
        {
          id: 'quantization',
          title: 'Quantization',
          subtitle: 'GPTQ, AWQ, GGUF',
          file: 'movement4_inference/QUANTIZATION_gptq_awq_gguf.html',
          color: 'amber',
          icon: 'üì¶',
          topics: ['INT8', 'INT4', 'GPTQ', 'AWQ', 'GGUF']
        },
        {
          id: 'speculative',
          title: 'Speculative Decoding',
          subtitle: 'Draft & verify',
          file: 'movement4_inference/SPECULATIVE_DECODING_draft_verify.html',
          color: 'rose',
          icon: 'üöÄ',
          topics: ['Draft model', 'Verification', 'Speedup', 'Acceptance']
        },
        {
          id: 'structured',
          title: 'Structured Output',
          subtitle: 'JSON, function calling',
          file: 'movement4_inference/STRUCTURED_OUTPUT_json_functions.html',
          color: 'lime',
          icon: 'üìã',
          topics: ['JSON mode', 'Schemas', 'Function calling', 'Constrained']
        },
      ];

      // ============== MOVEMENT V: SERVING (7 files) ==============
      const servingEngines = [
        {
          id: 'serving-engines',
          title: 'vLLM & TensorRT-LLM',
          subtitle: 'How serving engines work',
          file: 'movement5_serving/how-vllm-tensorrt-work.html',
          color: 'emerald',
          icon: 'üöÄ',
          topics: ['PagedAttention', 'Continuous batching', 'Tensor parallel']
        },
        {
          id: 'inf-detailed',
          title: 'Inference Pipeline',
          subtitle: 'TTFT, TPOT, throughput',
          file: 'movement5_serving/INFERENCE_pipeline_detailed.html',
          color: 'teal',
          icon: '‚ö°',
          topics: ['Prefill', 'Decode', 'Metrics', 'Optimization']
        },
      ];

      const servingOptimization = [
        {
          id: 'kv-cache',
          title: 'KV Cache & Batching',
          subtitle: 'PagedAttention deep dive',
          file: 'movement5_serving/KV_CACHE_batching_pagedattention.html',
          color: 'violet',
          icon: 'üß†',
          topics: ['PagedAttention', 'Continuous batching', 'Memory management']
        },
        {
          id: 'prompt-cache',
          title: 'Prompt Caching',
          subtitle: 'Prefix caching optimization',
          file: 'movement5_serving/PROMPT_CACHING_optimization.html',
          color: 'cyan',
          icon: 'üíæ',
          topics: ['Prefix cache', 'System prompt', 'Reuse']
        },
        {
          id: 'edge',
          title: 'Edge Deployment',
          subtitle: 'Ollama, MLX',
          file: 'movement5_serving/EDGE_DEPLOYMENT_ollama_mlx.html',
          color: 'green',
          icon: 'üì±',
          topics: ['Ollama', 'MLX', 'llama.cpp', 'Mobile']
        },
      ];

      const servingPatterns = [
        {
          id: 'infra-caching',
          title: 'Infrastructure Caching',
          subtitle: 'Caching patterns',
          file: 'movement5_serving/LLM_PATTERNS_infrastructure_caching.html',
          color: 'blue',
          icon: 'üóÑÔ∏è',
          topics: ['Semantic cache', 'KV cache', 'Response cache']
        },
        {
          id: 'infra-ops',
          title: 'Infrastructure Ops',
          subtitle: 'Operations patterns',
          file: 'movement5_serving/LLM_PATTERNS_infrastructure_ops.html',
          color: 'orange',
          icon: 'üîß',
          topics: ['Load balancing', 'Scaling', 'Monitoring', 'Cost']
        },
      ];

      // ============== MOVEMENT VI: AGENTS (16 files) ==============
      // Core Architecture & Pipelines
      const agentCore = [
        {
          id: 'agent-arch',
          title: 'Agent Architecture',
          subtitle: 'Tool calling fundamentals',
          file: 'movement6_agents/agent-architecture-tool-calling.html',
          color: 'cyan',
          icon: 'üèóÔ∏è',
          topics: ['Tool schemas', 'Function calling', 'Execution', 'Errors']
        },
        {
          id: 'agent-pipeline',
          title: 'Agent Pipeline',
          subtitle: 'Full agent flow',
          file: 'movement6_agents/agent-pipeline-full.html',
          color: 'blue',
          icon: 'üîó',
          topics: ['Planning', 'Execution', 'Observation', 'Iteration']
        },
        {
          id: 'router',
          title: 'LLM Router & Selection',
          subtitle: 'Model routing strategies',
          file: 'movement6_agents/llm-router-agent-pipeline.html',
          color: 'violet',
          icon: 'üîÄ',
          topics: ['Routing logic', 'Cost', 'Fallbacks', 'Cascading']
        },
      ];

      // Patterns & Reasoning
      const agentPatterns = [
        {
          id: 'patterns-core',
          title: 'Core Patterns',
          subtitle: 'ReAct, Swarm fundamentals',
          file: 'movement6_agents/AGENTIC_PATTERNS_core_react_swarm.html',
          color: 'purple',
          icon: 'üéØ',
          topics: ['ReAct', 'Swarm', 'Orchestration', 'Handoffs']
        },
        {
          id: 'patterns-react',
          title: 'ReAct & Reflexion',
          subtitle: 'Reasoning patterns',
          file: 'movement6_agents/AGENTIC_PATTERNS_react_reflexion.html',
          color: 'indigo',
          icon: 'üîÑ',
          topics: ['ReAct loop', 'Reflexion', 'Self-critique', 'LATS']
        },
        {
          id: 'patterns-tool',
          title: 'Tool-Augmented',
          subtitle: 'Tool use patterns',
          file: 'movement6_agents/AGENTIC_PATTERNS_tool_augmented.html',
          color: 'teal',
          icon: 'üîß',
          topics: ['Tool selection', 'Chaining', 'Parallel tools', 'Retries']
        },
        {
          id: 'patterns-memory',
          title: 'Advanced Memory',
          subtitle: 'Memory architectures',
          file: 'movement6_agents/AGENTIC_PATTERNS_advanced_memory.html',
          color: 'emerald',
          icon: 'üß†',
          topics: ['Episodic', 'Semantic', 'Working memory', 'Retrieval']
        },
        {
          id: 'prompting',
          title: 'Prompt Engineering',
          subtitle: 'Techniques for agents',
          file: 'movement6_agents/PROMPT_ENGINEERING_techniques.html',
          color: 'amber',
          icon: '‚úçÔ∏è',
          topics: ['Few-shot', 'CoT', 'System prompts', 'Structured']
        },
      ];

      // Protocols & Connectivity
      const agentProtocols = [
        {
          id: 'mcp',
          title: 'Model Context Protocol',
          subtitle: 'Anthropic\'s MCP standard',
          file: 'movement6_agents/MCP_model_context_protocol.html',
          color: 'emerald',
          icon: 'üîå',
          topics: ['Tools', 'Resources', 'Prompts', 'Transports']
        },
        {
          id: 'agui',
          title: 'AG-UI Protocol',
          subtitle: 'Agent-generated interfaces',
          file: 'movement6_agents/AG_UI_agent_generated_interfaces.html',
          color: 'teal',
          icon: 'üñºÔ∏è',
          topics: ['Dynamic UI', 'Events', 'Components', 'State sync']
        },
        {
          id: 'a2a',
          title: 'A2A Protocol',
          subtitle: 'Agent-to-agent communication',
          file: 'movement6_agents/A2A_agent_to_agent_protocol.html',
          color: 'sky',
          icon: 'ü§ù',
          topics: ['Agent cards', 'Tasks', 'Discovery', 'Handoffs']
        },
      ];

      // Specialized Agent Types
      const agentSpecialized = [
        {
          id: 'swe-agents',
          title: 'Agentic Coding',
          subtitle: 'SWE agents & code gen',
          file: 'movement6_agents/AGENTIC_CODING_swe_agents.html',
          color: 'green',
          icon: 'üíª',
          topics: ['SWE-bench', 'Code editing', 'Testing', 'Debugging']
        },
        {
          id: 'computer-use',
          title: 'Computer Use',
          subtitle: 'Browser & desktop control',
          file: 'movement6_agents/COMPUTER_USE_browser_desktop.html',
          color: 'lime',
          icon: 'üñ•Ô∏è',
          topics: ['Screenshots', 'Click/type', 'Browser', 'Safety']
        },
      ];

      // State, Memory & Operations
      const agentOps = [
        {
          id: 'memory',
          title: 'Agent Memory',
          subtitle: 'State management',
          file: 'movement6_agents/AGENT_MEMORY_state_management.html',
          color: 'amber',
          icon: 'üíæ',
          topics: ['Short-term', 'Long-term', 'Episodic', 'Working']
        },
        {
          id: 'multi-agent',
          title: 'Multi-Agent Systems',
          subtitle: 'Orchestration & coordination',
          file: 'movement6_agents/MULTI_AGENT_systems_orchestration.html',
          color: 'orange',
          icon: 'üë•',
          topics: ['Supervisors', 'Hierarchies', 'Messages', 'Consensus']
        },
        {
          id: 'observability',
          title: 'Agent Observability',
          subtitle: 'Tracing & debugging',
          file: 'movement6_agents/AGENT_OBSERVABILITY_tracing.html',
          color: 'red',
          icon: 'üìä',
          topics: ['LangSmith', 'Traces', 'Spans', 'Cost tracking']
        },
      ];

      // ============== MOVEMENT VII: RAG (5 files) ==============
      const ragCore = [
        {
          id: 'rag-intro',
          title: 'RAG Fundamentals',
          subtitle: 'Retrieval-augmented generation',
          file: 'movement7_rag/RAG_retrieval_augmented_generation.html',
          color: 'rose',
          icon: 'üìö',
          topics: ['Embedding', 'Vector DB', 'Retrieval', 'Context']
        },
        {
          id: 'rag-chunking',
          title: 'Chunking & Reranking',
          subtitle: 'Splitting, embedding, retrieval',
          file: 'movement7_rag/RAG_chunking_reranking_retrieval.html',
          color: 'pink',
          icon: '‚úÇÔ∏è',
          topics: ['Chunk strategies', 'Overlap', 'Rerankers']
        },
      ];

      const ragPatterns = [
        {
          id: 'rag-core-patterns',
          title: 'Core Retrieval Patterns',
          subtitle: 'Retrieval fundamentals',
          file: 'movement7_rag/RAG_PATTERNS_core_retrieval.html',
          color: 'fuchsia',
          icon: 'üîç',
          topics: ['Dense retrieval', 'Hybrid search', 'Filtering']
        },
        {
          id: 'rag-selfrag',
          title: 'Self-RAG & Adaptive',
          subtitle: 'Advanced retrieval patterns',
          file: 'movement7_rag/RAG_PATTERNS_advanced_selfrag.html',
          color: 'purple',
          icon: 'üîÑ',
          topics: ['Self-RAG', 'CRAG', 'Adaptive retrieval']
        },
        {
          id: 'rag-modular',
          title: 'Modular RAG',
          subtitle: 'Agentic & modular architectures',
          file: 'movement7_rag/RAG_PATTERNS_advanced_modular.html',
          color: 'violet',
          icon: 'üß©',
          topics: ['Query rewriting', 'Multi-hop', 'Agentic RAG']
        },
      ];

      // ============== EXTRAS (2 files) ==============
      const extrasDiagrams = [
        {
          id: 'nemotron',
          title: 'Nemotron 253B Tutorial',
          subtitle: 'NVIDIA model deep dive',
          file: 'extras/nemotron-253b-tutorial.html',
          color: 'lime',
          icon: 'üü¢',
          topics: ['NVIDIA', 'Large models', 'Tutorial']
        },
        {
          id: 'anti-patterns',
          title: 'LLM Anti-Patterns',
          subtitle: 'Common mistakes to avoid',
          file: 'extras/LLM_ANTI_PATTERNS_reference.html',
          color: 'red',
          icon: '‚ö†Ô∏è',
          topics: ['Mistakes', 'Pitfalls', 'Best practices']
        },
      ];

      const colorClasses = {
        cyan: { bg: 'bg-cyan-900/40', border: 'border-cyan-500', text: 'text-cyan-300', glow: 'shadow-cyan-500/20' },
        pink: { bg: 'bg-pink-900/40', border: 'border-pink-500', text: 'text-pink-300', glow: 'shadow-pink-500/20' },
        green: { bg: 'bg-green-900/40', border: 'border-green-500', text: 'text-green-300', glow: 'shadow-green-500/20' },
        red: { bg: 'bg-red-900/40', border: 'border-red-500', text: 'text-red-300', glow: 'shadow-red-500/20' },
        orange: { bg: 'bg-orange-900/40', border: 'border-orange-500', text: 'text-orange-300', glow: 'shadow-orange-500/20' },
        purple: { bg: 'bg-purple-900/40', border: 'border-purple-500', text: 'text-purple-300', glow: 'shadow-purple-500/20' },
        emerald: { bg: 'bg-emerald-900/40', border: 'border-emerald-500', text: 'text-emerald-300', glow: 'shadow-emerald-500/20' },
        sky: { bg: 'bg-sky-900/40', border: 'border-sky-500', text: 'text-sky-300', glow: 'shadow-sky-500/20' },
        blue: { bg: 'bg-blue-900/40', border: 'border-blue-500', text: 'text-blue-300', glow: 'shadow-blue-500/20' },
        indigo: { bg: 'bg-indigo-900/40', border: 'border-indigo-500', text: 'text-indigo-300', glow: 'shadow-indigo-500/20' },
        violet: { bg: 'bg-violet-900/40', border: 'border-violet-500', text: 'text-violet-300', glow: 'shadow-violet-500/20' },
        amber: { bg: 'bg-amber-900/40', border: 'border-amber-500', text: 'text-amber-300', glow: 'shadow-amber-500/20' },
        teal: { bg: 'bg-teal-900/40', border: 'border-teal-500', text: 'text-teal-300', glow: 'shadow-teal-500/20' },
        slate: { bg: 'bg-slate-800/60', border: 'border-slate-500', text: 'text-slate-300', glow: 'shadow-slate-500/20' },
        lime: { bg: 'bg-lime-900/40', border: 'border-lime-500', text: 'text-lime-300', glow: 'shadow-lime-500/20' },
        rose: { bg: 'bg-rose-900/40', border: 'border-rose-500', text: 'text-rose-300', glow: 'shadow-rose-500/20' },
        fuchsia: { bg: 'bg-fuchsia-900/40', border: 'border-fuchsia-500', text: 'text-fuchsia-300', glow: 'shadow-fuchsia-500/20' },
      };

      const DiagramCard = ({ item, size = 'normal' }) => {
        const c = colorClasses[item.color] || colorClasses.slate;
        const isHovered = hoveredCard === item.id;
        
        return (
          <a
            href={item.file}
            className={`block card-hover rounded-xl ${c.bg} border ${c.border} ${c.glow} shadow-lg overflow-hidden
                       ${size === 'large' ? 'p-5' : 'p-4'}`}
            onMouseEnter={() => setHoveredCard(item.id)}
            onMouseLeave={() => setHoveredCard(null)}
          >
            <div className="flex items-start gap-3">
              <span className={`${size === 'large' ? 'text-3xl' : 'text-2xl'}`}>{item.icon}</span>
              <div className="flex-1 min-w-0">
                <div className={`${c.text} font-black ${size === 'large' ? 'text-lg' : 'text-base'} leading-tight`}>
                  {item.title}
                </div>
                <div className="text-white/60 text-sm mt-1">{item.subtitle}</div>
                
                {isHovered && item.topics && (
                  <div className="mt-3 flex flex-wrap gap-1">
                    {item.topics.map((topic, i) => (
                      <span key={i} className="px-2 py-0.5 bg-black/40 rounded text-xs text-white/70">
                        {topic}
                      </span>
                    ))}
                  </div>
                )}
              </div>
            </div>
          </a>
        );
      };

      const StageCard = ({ item }) => {
        const c = colorClasses[item.color] || colorClasses.slate;
        return (
          <a
            href={item.file}
            className={`block card-hover rounded-lg ${c.bg} border ${c.border} p-3 text-center`}
          >
            <div className="text-2xl mb-1">{item.icon}</div>
            <div className={`${c.text} font-bold text-sm`}>{item.title}</div>
            <div className="text-white/50 text-xs">{item.subtitle}</div>
          </a>
        );
      };

      const OverviewCard = ({ item }) => {
        const c = colorClasses[item.color] || colorClasses.slate;
        return (
          <a
            href={item.file}
            className={`block card-hover rounded-lg ${c.bg} border ${c.border} p-3`}
          >
            <div className="flex items-center gap-2">
              <span className="text-xl">{item.icon}</span>
              <div>
                <div className={`${c.text} font-bold text-sm`}>{item.title}</div>
                <div className="text-white/50 text-xs">{item.subtitle}</div>
              </div>
            </div>
          </a>
        );
      };

      const MovementHeader = ({ number, title, subtitle, color, icon, count }) => (
        <div className="flex items-center gap-4 mb-6">
          <div className={`w-14 h-14 rounded-xl bg-gradient-to-br ${color} flex items-center justify-center shadow-lg`}>
            <span className="text-3xl">{icon}</span>
          </div>
          <div className="flex-1">
            <div className="flex items-center gap-3">
              <span className="text-white/40 text-sm font-bold">MOVEMENT {number}</span>
              <span className="px-2 py-0.5 bg-white/10 rounded text-xs text-white/60">{count} files</span>
            </div>
            <h2 className="text-2xl font-black text-white">{title}</h2>
            <p className="text-white/60 text-sm">{subtitle}</p>
          </div>
        </div>
      );

      const SectionHeader = ({ title, color }) => (
        <div className="flex items-center gap-2 mb-3">
          <span className={`${color} text-sm font-bold`}>{title}</span>
          <div className="flex-1 h-px bg-white/10"></div>
        </div>
      );

      const FlowArrow = () => (
        <div className="flex justify-center my-6">
          <div className="flex items-center gap-2 text-white/30">
            <div className="w-16 h-px bg-gradient-to-r from-transparent to-white/30"></div>
            <span className="animate-flow text-xl">‚ñº</span>
            <div className="w-16 h-px bg-gradient-to-l from-transparent to-white/30"></div>
          </div>
        </div>
      );

      return (
        <div className="min-h-screen bg-black text-white" onMouseMove={(e) => {}}>
          <div className="max-w-7xl mx-auto px-6 py-12">
            
            {/* ============== HEADER ============== */}
            <header className="text-center mb-16">
              <div className="inline-block px-4 py-1 bg-purple-900/50 border border-purple-500 rounded-full mb-4">
                <span className="text-purple-300 font-bold text-sm">COMPLETE LIFECYCLE REFERENCE</span>
              </div>
              <h1 className="text-5xl font-black mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-cyan-400">
                üéº The LLM Symphony üéº
              </h1>
              <p className="text-xl text-white/60 max-w-3xl mx-auto">
                From raw data to production agents ‚Äî 7 movements, 74 interactive diagrams
              </p>
              <div className="flex justify-center gap-8 mt-6 text-sm text-white/40">
                <span>Foundation</span>
                <span>‚Üí</span>
                <span>Training</span>
                <span>‚Üí</span>
                <span>Alignment</span>
                <span>‚Üí</span>
                <span>Inference</span>
                <span>‚Üí</span>
                <span>Serving</span>
                <span>‚Üí</span>
                <span>Agents</span>
                <span>‚Üí</span>
                <span>RAG</span>
              </div>
            </header>

            {/* ============== MOVEMENT I: FOUNDATION ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="I" 
                title="Foundation" 
                subtitle="Core building blocks ‚Äî tokenization, embeddings, attention, scaling laws, hardware"
                color="from-amber-500 to-orange-600"
                icon="üèõÔ∏è"
                count="14"
              />
              
              <SectionHeader title="üî§ CORE ARCHITECTURE" color="text-cyan-400" />
              <div className="grid grid-cols-4 gap-3 mb-6">
                {foundationCore.map(d => <DiagramCard key={d.id} item={d} />)}
              </div>

              <SectionHeader title="üìà SCALING & HARDWARE" color="text-amber-400" />
              <div className="grid grid-cols-3 gap-3 mb-6">
                {foundationScaling.map(d => <DiagramCard key={d.id} item={d} />)}
              </div>

              <SectionHeader title="üìè CONTEXT & POSITION" color="text-indigo-400" />
              <div className="grid grid-cols-2 gap-3 mb-6">
                {foundationContext.map(d => <DiagramCard key={d.id} item={d} />)}
              </div>

              <SectionHeader title="üñºÔ∏è MODALITIES" color="text-rose-400" />
              <div className="grid grid-cols-2 gap-3 mb-6">
                {foundationModalities.map(d => <DiagramCard key={d.id} item={d} />)}
              </div>

              <SectionHeader title="üí¨ PATTERNS" color="text-teal-400" />
              <div className="grid grid-cols-3 gap-3">
                {foundationPatterns.map(d => <DiagramCard key={d.id} item={d} />)}
              </div>
            </section>

            <FlowArrow />

            {/* ============== MOVEMENT II: PRE-TRAINING ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="II" 
                title="Pre-Training" 
                subtitle="The training loop ‚Äî data pipeline ‚Üí forward ‚Üí loss ‚Üí backward ‚Üí sync ‚Üí optimize"
                color="from-purple-500 to-violet-600"
                icon="üî•"
                count="12"
              />
              
              <SectionHeader title="üìä TRAINING STAGES (0-7)" color="text-purple-400" />
              <div className="grid grid-cols-8 gap-2 mb-6">
                {trainingStages.map(s => <StageCard key={s.id} item={s} />)}
              </div>

              <SectionHeader title="üè≠ OVERVIEWS & DISTRIBUTED" color="text-blue-400" />
              <div className="grid grid-cols-4 gap-3">
                {trainingOverviews.map(d => <OverviewCard key={d.id} item={d} />)}
              </div>
            </section>

            <FlowArrow />

            {/* ============== MOVEMENT III: ALIGNMENT ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="III" 
                title="Alignment" 
                subtitle="Post-training refinement ‚Äî SFT, RLHF, DPO, fine-tuning, safety, evaluation"
                color="from-pink-500 to-rose-600"
                icon="üéØ"
                count="6"
              />
              
              <SectionHeader title="üîß ALIGNMENT TECHNIQUES" color="text-pink-400" />
              <div className="grid grid-cols-3 gap-4 mb-6">
                {alignmentCore.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üìä EVALUATION & SAFETY" color="text-amber-400" />
              <div className="grid grid-cols-3 gap-4">
                {alignmentEval.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>
            </section>

            <FlowArrow />

            {/* ============== MOVEMENT IV: INFERENCE ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="IV" 
                title="Inference" 
                subtitle="From prompt to completion ‚Äî prefill, decode, sample, stream"
                color="from-blue-500 to-indigo-600"
                icon="‚ö°"
                count="12"
              />
              
              <SectionHeader title="üîÑ INFERENCE STAGES" color="text-blue-400" />
              <div className="grid grid-cols-6 gap-2 mb-6">
                {inferenceStages.map(s => <StageCard key={s.id} item={s} />)}
              </div>

              <SectionHeader title="üåä OVERVIEWS & FLOWS" color="text-cyan-400" />
              <div className="grid grid-cols-3 gap-3 mb-6">
                {inferenceOverviews.map(d => <OverviewCard key={d.id} item={d} />)}
              </div>

              <SectionHeader title="üöÄ OPTIMIZATION TECHNIQUES" color="text-amber-400" />
              <div className="grid grid-cols-3 gap-4">
                {inferenceOptimization.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>
            </section>

            <FlowArrow />

            {/* ============== MOVEMENT V: SERVING ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="V" 
                title="Serving" 
                subtitle="Production infrastructure ‚Äî engines, caching, batching, edge deployment"
                color="from-emerald-500 to-teal-600"
                icon="üöÄ"
                count="7"
              />
              
              <SectionHeader title="‚ö° SERVING ENGINES" color="text-emerald-400" />
              <div className="grid grid-cols-2 gap-4 mb-6">
                {servingEngines.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üíæ OPTIMIZATION" color="text-violet-400" />
              <div className="grid grid-cols-3 gap-4 mb-6">
                {servingOptimization.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üîß INFRASTRUCTURE PATTERNS" color="text-blue-400" />
              <div className="grid grid-cols-2 gap-4">
                {servingPatterns.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>
            </section>

            <FlowArrow />

            {/* ============== MOVEMENT VI: AGENTS ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="VI" 
                title="Agents" 
                subtitle="Autonomous systems ‚Äî tool calling, ReAct, MCP, A2A, multi-agent orchestration"
                color="from-cyan-500 to-blue-600"
                icon="ü§ñ"
                count="16"
              />
              
              <SectionHeader title="üèóÔ∏è CORE ARCHITECTURE" color="text-cyan-400" />
              <div className="grid grid-cols-3 gap-4 mb-6">
                {agentCore.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üß† PATTERNS & REASONING" color="text-purple-400" />
              <div className="grid grid-cols-5 gap-3 mb-6">
                {agentPatterns.map(d => <DiagramCard key={d.id} item={d} />)}
              </div>

              <SectionHeader title="üîå PROTOCOLS & CONNECTIVITY" color="text-emerald-400" />
              <div className="grid grid-cols-3 gap-4 mb-6">
                {agentProtocols.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üíª SPECIALIZED AGENTS" color="text-green-400" />
              <div className="grid grid-cols-2 gap-4 mb-6">
                {agentSpecialized.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üìä MEMORY & OPERATIONS" color="text-orange-400" />
              <div className="grid grid-cols-3 gap-4">
                {agentOps.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>
            </section>

            <FlowArrow />

            {/* ============== MOVEMENT VII: RAG ============== */}
            <section className="mb-12">
              <MovementHeader 
                number="VII" 
                title="RAG & Retrieval" 
                subtitle="Grounding LLMs with external knowledge ‚Äî chunking, embedding, retrieval, reranking"
                color="from-rose-500 to-pink-600"
                icon="üìö"
                count="5"
              />
              
              <SectionHeader title="üìö CORE RAG" color="text-rose-400" />
              <div className="grid grid-cols-2 gap-4 mb-6">
                {ragCore.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>

              <SectionHeader title="üîç RAG PATTERNS" color="text-purple-400" />
              <div className="grid grid-cols-3 gap-4">
                {ragPatterns.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>
            </section>

            {/* ============== EXTRAS ============== */}
            <section className="mb-12">
              <div className="flex items-center gap-4 mb-6">
                <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-lime-500 to-green-600 flex items-center justify-center shadow-lg">
                  <span className="text-2xl">üì¶</span>
                </div>
                <div>
                  <h2 className="text-2xl font-black text-white">Extras</h2>
                  <p className="text-white/60">Additional tutorials and resources</p>
                </div>
                <span className="px-2 py-0.5 bg-white/10 rounded text-xs text-white/60">2 files</span>
              </div>
              
              <div className="grid grid-cols-2 gap-4">
                {extrasDiagrams.map(d => <DiagramCard key={d.id} item={d} size="large" />)}
              </div>
            </section>

            {/* ============== QUICK REFERENCE ============== */}
            <section className="mb-12">
              <div className="bg-gradient-to-r from-slate-900 to-slate-800 border border-slate-700 rounded-2xl p-8">
                <div className="text-center mb-6">
                  <div className="text-2xl font-black text-white mb-2">üîë Quick Reference</div>
                </div>
                
                <div className="grid grid-cols-5 gap-6 text-sm">
                  <div>
                    <div className="text-purple-300 font-bold mb-2">Training</div>
                    <ul className="text-white/60 space-y-1">
                      <li>‚Ä¢ C = 6ND</li>
                      <li>‚Ä¢ D ‚âà 20N</li>
                      <li>‚Ä¢ AdamW Œ≤‚ÇÅ=0.9</li>
                      <li>‚Ä¢ Cosine decay</li>
                    </ul>
                  </div>
                  <div>
                    <div className="text-pink-300 font-bold mb-2">Alignment</div>
                    <ul className="text-white/60 space-y-1">
                      <li>‚Ä¢ SFT: 1-3 epochs</li>
                      <li>‚Ä¢ DPO Œ≤: 0.1-0.5</li>
                      <li>‚Ä¢ LoRA: rank 8-64</li>
                    </ul>
                  </div>
                  <div>
                    <div className="text-blue-300 font-bold mb-2">Inference</div>
                    <ul className="text-white/60 space-y-1">
                      <li>‚Ä¢ Prefill: Compute</li>
                      <li>‚Ä¢ Decode: Memory</li>
                      <li>‚Ä¢ KV: ~1MB/tok</li>
                    </ul>
                  </div>
                  <div>
                    <div className="text-cyan-300 font-bold mb-2">Agents</div>
                    <ul className="text-white/60 space-y-1">
                      <li>‚Ä¢ ReAct: Think‚ÜíAct</li>
                      <li>‚Ä¢ MCP: Tool protocol</li>
                      <li>‚Ä¢ A2A: Agent cards</li>
                      <li>‚Ä¢ AG-UI: Dynamic UI</li>
                    </ul>
                  </div>
                  <div>
                    <div className="text-emerald-300 font-bold mb-2">Hardware</div>
                    <ul className="text-white/60 space-y-1">
                      <li>‚Ä¢ H100: 80GB</li>
                      <li>‚Ä¢ NVLink: 900 GB/s</li>
                      <li>‚Ä¢ IB: 400 Gbps</li>
                    </ul>
                  </div>
                </div>
              </div>
            </section>

            {/* ============== STATS ============== */}
            <section className="mb-12">
              <div className="grid grid-cols-4 gap-4 text-center">
                <div className="bg-purple-900/20 border border-purple-500/30 rounded-xl p-4">
                  <div className="text-4xl font-black text-purple-400">74</div>
                  <div className="text-white/50 text-sm">Diagrams</div>
                </div>
                <div className="bg-pink-900/20 border border-pink-500/30 rounded-xl p-4">
                  <div className="text-4xl font-black text-pink-400">1000+</div>
                  <div className="text-white/50 text-sm">Tooltips</div>
                </div>
                <div className="bg-cyan-900/20 border border-cyan-500/30 rounded-xl p-4">
                  <div className="text-4xl font-black text-cyan-400">7</div>
                  <div className="text-white/50 text-sm">Movements</div>
                </div>
                <div className="bg-emerald-900/20 border border-emerald-500/30 rounded-xl p-4">
                  <div className="text-4xl font-black text-emerald-400">‚àû</div>
                  <div className="text-white/50 text-sm">Learning</div>
                </div>
              </div>
            </section>

            {/* ============== FOOTER ============== */}
            <footer className="text-center text-white/30 text-sm pt-8 border-t border-white/5">
              <p className="text-lg mb-2">üéº The LLM Symphony üéº</p>
              <p>Foundation ‚Üí Training ‚Üí Alignment ‚Üí Inference ‚Üí Serving ‚Üí Agents ‚Üí RAG</p>
            </footer>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<LLMSymphony />);
  </script>
</body>
</html>
