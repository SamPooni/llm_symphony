<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Â© 2026 Subramaniyam Pooni | CSÂ²B Technologies (CSSQUAREDB Technologies) | All Rights Reserved -->
  <meta charset="UTF-8">
  <meta name="author" content="Subramaniyam Pooni">
  <meta name="company" content="CSÂ²B Technologies (CSSQUAREDB Technologies)">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infrastructure Patterns Part 2 â€” Visual Reference</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #030712; min-height: 100vh; font-family: 'Inter', system-ui, sans-serif; }
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    @keyframes flowDash { to { stroke-dashoffset: -20; } }
    @keyframes pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.8; } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .flow-line { animation: flowDash 1s linear infinite; }
    .pulse-bg { animation: pulse 3s ease-in-out infinite; }
    .gradient-text { background: linear-gradient(135deg, #22d3ee, #4ade80, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
    .tooltip { position: fixed; z-index: 100; padding: 12px 16px; background: rgba(15, 23, 42, 0.95); border: 1px solid rgba(34, 211, 238, 0.5); border-radius: 12px; font-size: 13px; color: #e2e8f0; max-width: 320px; pointer-events: none; animation: fadeIn 0.2s ease-out; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;
    const Tooltip = ({ text, x, y }) => { if (!text) return null; return <div className="tooltip" style={{ left: Math.min(x, window.innerWidth - 340), top: y + 15 }}>{text}</div>; };
    const GradientDefs = () => (<defs>
      <linearGradient id="cyanGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#22d3ee" /><stop offset="100%" stopColor="#0891b2" /></linearGradient>
      <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#4ade80" /><stop offset="100%" stopColor="#16a34a" /></linearGradient>
      <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#a78bfa" /><stop offset="100%" stopColor="#7c3aed" /></linearGradient>
      <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#60a5fa" /><stop offset="100%" stopColor="#2563eb" /></linearGradient>
      <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#fb923c" /><stop offset="100%" stopColor="#ea580c" /></linearGradient>
      <linearGradient id="pinkGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#f472b6" /><stop offset="100%" stopColor="#db2777" /></linearGradient>
      <linearGradient id="yellowGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#facc15" /><stop offset="100%" stopColor="#ca8a04" /></linearGradient>
      <linearGradient id="emeraldGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#34d399" /><stop offset="100%" stopColor="#059669" /></linearGradient>
      <linearGradient id="redGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#f87171" /><stop offset="100%" stopColor="#dc2626" /></linearGradient>
      <linearGradient id="slateGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#64748b" /><stop offset="100%" stopColor="#475569" /></linearGradient>
      <marker id="arrowCyan" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#22d3ee" /></marker>
      <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#4ade80" /></marker>
      <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#a78bfa" /></marker>
      <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#fb923c" /></marker>
      <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="#f87171" /></marker>
    </defs>);

    // Pattern 52: LLM Observability
    const ObservabilityDiagram = ({ onHover }) => (<svg viewBox="0 0 700 220" className="w-full h-auto"><GradientDefs />
      <g transform="translate(150, 20)"><rect width="400" height="180" rx="12" fill="rgba(34,211,238,0.1)" stroke="#22d3ee" strokeDasharray="6 3" /><text x="200" y="20" textAnchor="middle" fill="#22d3ee" fontSize="10" fontWeight="bold">LLM Pipeline with Observability</text>
        <g transform="translate(20, 40)"><rect width="80" height="50" rx="6" fill="url(#blueGrad)" opacity="0.9" /><text x="40" y="22" textAnchor="middle" fill="white" fontSize="8" fontWeight="bold">Input</text><text x="40" y="38" textAnchor="middle" fill="white" fontSize="6">query, context</text></g>
        <path d="M105 65 L145 65" stroke="#22d3ee" strokeWidth="1.5" markerEnd="url(#arrowCyan)" />
        <g transform="translate(150, 40)" onMouseMove={(e) => onHover("Trace every LLM call: latency, tokens, cost, model, prompt template. Langfuse, LangSmith, Weights & Biases.", e.clientX, e.clientY)} onMouseLeave={() => onHover(null)}><rect width="100" height="50" rx="6" fill="url(#purpleGrad)" opacity="0.9" /><text x="50" y="22" textAnchor="middle" fill="white" fontSize="8" fontWeight="bold">LLM Call</text><text x="50" y="38" textAnchor="middle" fill="white" fontSize="6">traced + logged</text></g>
        <path d="M255 65 L295 65" stroke="#a78bfa" strokeWidth="1.5" markerEnd="url(#arrowPurple)" />
        <g transform="translate(300, 40)"><rect width="80" height="50" rx="6" fill="url(#greenGrad)" opacity="0.9" /><text x="40" y="22" textAnchor="middle" fill="white" fontSize="8" fontWeight="bold">Output</text><text x="40" y="38" textAnchor="middle" fill="white" fontSize="6">response</text></g>
        
        <g transform="translate(20, 110)"><rect width="360" height="55" rx="6" fill="rgba(0,0,0,0.3)" /><text x="180" y="18" textAnchor="middle" fill="#22d3ee" fontSize="9" fontWeight="bold">ğŸ“Š Traces & Metrics Captured</text>
          <text x="20" y="35" fill="#4ade80" fontSize="7">â€¢ Latency (P50/P95/P99)</text>
          <text x="120" y="35" fill="#facc15" fontSize="7">â€¢ Token counts (in/out)</text>
          <text x="230" y="35" fill="#f472b6" fontSize="7">â€¢ Cost ($)</text>
          <text x="20" y="48" fill="#a78bfa" fontSize="7">â€¢ Prompt templates</text>
          <text x="120" y="48" fill="#fb923c" fontSize="7">â€¢ Model versions</text>
          <text x="230" y="48" fill="#22d3ee" fontSize="7">â€¢ Error rates</text>
        </g>
      </g>
      
      <g transform="translate(30, 60)"><rect width="100" height="120" rx="8" fill="url(#cyanGrad)" opacity="0.9" /><text x="50" y="22" textAnchor="middle" fill="white" fontSize="9" fontWeight="bold">Observability</text><text x="50" y="40" textAnchor="middle" fill="white" fontSize="7">Tools</text>
        <text x="50" y="60" textAnchor="middle" fill="white" fontSize="7">Langfuse</text>
        <text x="50" y="75" textAnchor="middle" fill="white" fontSize="7">LangSmith</text>
        <text x="50" y="90" textAnchor="middle" fill="white" fontSize="7">W&B Weave</text>
        <text x="50" y="105" textAnchor="middle" fill="white" fontSize="7">Arize Phoenix</text>
      </g>
      
      <g transform="translate(570, 60)"><rect width="100" height="120" rx="8" fill="url(#emeraldGrad)" opacity="0.9" /><text x="50" y="22" textAnchor="middle" fill="white" fontSize="9" fontWeight="bold">Insights</text>
        <text x="50" y="45" textAnchor="middle" fill="white" fontSize="7">ğŸ” Debug issues</text>
        <text x="50" y="62" textAnchor="middle" fill="white" fontSize="7">ğŸ“ˆ Track quality</text>
        <text x="50" y="79" textAnchor="middle" fill="white" fontSize="7">ğŸ’° Monitor costs</text>
        <text x="50" y="96" textAnchor="middle" fill="white" fontSize="7">âš¡ Find bottlenecks</text>
        <text x="50" y="113" textAnchor="middle" fill="#86efac" fontSize="6">A/B test prompts</text>
      </g>
      <text x="350" y="215" textAnchor="middle" fill="#f87171" fontSize="9">âš ï¸ Storage costs for traces, Privacy (logging prompts), Overhead</text>
    </svg>);

    // Pattern 53: LLM Evaluation
    const EvaluationDiagram = ({ onHover }) => (<svg viewBox="0 0 700 220" className="w-full h-auto"><GradientDefs />
      <g transform="translate(30, 30)"><rect width="120" height="160" rx="10" fill="url(#blueGrad)" opacity="0.9" /><text x="60" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Eval Dataset</text>
        <rect x="10" y="35" width="100" height="35" rx="4" fill="rgba(0,0,0,0.2)" /><text x="60" y="52" textAnchor="middle" fill="white" fontSize="7">Input prompts</text><text x="60" y="64" textAnchor="middle" fill="white" fontSize="6">(N test cases)</text>
        <rect x="10" y="78" width="100" height="35" rx="4" fill="rgba(0,0,0,0.2)" /><text x="60" y="95" textAnchor="middle" fill="white" fontSize="7">Expected outputs</text><text x="60" y="107" textAnchor="middle" fill="white" fontSize="6">(ground truth)</text>
        <rect x="10" y="121" width="100" height="30" rx="4" fill="rgba(74,222,128,0.2)" /><text x="60" y="140" textAnchor="middle" fill="#4ade80" fontSize="7">Golden dataset</text>
      </g>
      <path d="M155 110 L195 110" stroke="#a78bfa" strokeWidth="2" markerEnd="url(#arrowPurple)" />
      <g transform="translate(200, 55)"><rect width="100" height="110" rx="8" fill="url(#purpleGrad)" opacity="0.9" /><text x="50" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">LLM</text><text x="50" y="42" textAnchor="middle" fill="white" fontSize="8">Generate</text><text x="50" y="58" textAnchor="middle" fill="white" fontSize="7">outputs</text>
        <rect x="10" y="70" width="80" height="30" rx="4" fill="rgba(0,0,0,0.2)" /><text x="50" y="88" textAnchor="middle" fill="#c4b5fd" fontSize="6">Run all test cases</text>
      </g>
      <path d="M305 110 L345 110" stroke="#fb923c" strokeWidth="2" markerEnd="url(#arrowOrange)" />
      <g transform="translate(350, 20)" onMouseMove={(e) => onHover("Evaluation methods: Exact match, BLEU/ROUGE, LLM-as-judge, embedding similarity, human eval, custom rubrics.", e.clientX, e.clientY)} onMouseLeave={() => onHover(null)}><rect width="180" height="180" rx="10" fill="url(#orangeGrad)" opacity="0.9" /><text x="90" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Evaluators</text>
        <rect x="10" y="35" width="160" height="28" rx="4" fill="rgba(0,0,0,0.2)" /><text x="90" y="53" textAnchor="middle" fill="white" fontSize="7">ğŸ“Š Exact Match / Contains</text>
        <rect x="10" y="68" width="160" height="28" rx="4" fill="rgba(0,0,0,0.2)" /><text x="90" y="86" textAnchor="middle" fill="white" fontSize="7">ğŸ“ BLEU / ROUGE / BERTScore</text>
        <rect x="10" y="101" width="160" height="28" rx="4" fill="rgba(167,139,250,0.3)" /><text x="90" y="119" textAnchor="middle" fill="#c4b5fd" fontSize="7" fontWeight="bold">ğŸ¤– LLM-as-Judge</text>
        <rect x="10" y="134" width="160" height="28" rx="4" fill="rgba(0,0,0,0.2)" /><text x="90" y="152" textAnchor="middle" fill="white" fontSize="7">ğŸ‘¥ Human Evaluation</text>
        <text x="90" y="175" textAnchor="middle" fill="#fef3c7" fontSize="6">Custom rubrics, Criteria</text>
      </g>
      <path d="M535 110 L575 110" stroke="#4ade80" strokeWidth="2" markerEnd="url(#arrowGreen)" />
      <g transform="translate(580, 45)"><rect width="90" height="130" rx="8" fill="url(#greenGrad)" opacity="0.9" /><text x="45" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Scores</text>
        <text x="45" y="45" textAnchor="middle" fill="white" fontSize="8">Accuracy: 85%</text>
        <text x="45" y="62" textAnchor="middle" fill="white" fontSize="8">Halluc: 3%</text>
        <text x="45" y="79" textAnchor="middle" fill="white" fontSize="8">Relevance: 4.2</text>
        <text x="45" y="96" textAnchor="middle" fill="white" fontSize="8">Coherence: 4.5</text>
        <rect x="10" y="105" width="70" height="18" rx="3" fill="rgba(0,0,0,0.2)" /><text x="45" y="118" textAnchor="middle" fill="#86efac" fontSize="6">CI/CD gate</text>
      </g>
      <text x="350" y="215" textAnchor="middle" fill="#f87171" fontSize="9">âš ï¸ Eval set coverage, LLM-judge bias, Metric selection, Ground truth quality</text>
    </svg>);

    // Pattern 54: Input/Output Guardrails
    const GuardrailsDiagram = ({ onHover }) => (<svg viewBox="0 0 700 200" className="w-full h-auto"><GradientDefs />
      <g transform="translate(30, 75)"><rect width="80" height="50" rx="8" fill="url(#blueGrad)" opacity="0.9" /><text x="40" y="22" textAnchor="middle" fill="white" fontSize="9" fontWeight="bold">User Input</text><text x="40" y="38" textAnchor="middle" fill="white" fontSize="6">(untrusted)</text></g>
      <path d="M115 100 L155 100" stroke="#f87171" strokeWidth="2" markerEnd="url(#arrowRed)" />
      <g transform="translate(160, 30)" onMouseMove={(e) => onHover("Input guardrails: Block prompt injection, jailbreaks, PII, toxic content. NeMo Guardrails, Guardrails AI, Lakera.", e.clientX, e.clientY)} onMouseLeave={() => onHover(null)}><rect width="140" height="140" rx="10" fill="url(#redGrad)" opacity="0.9" /><text x="70" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Input Guards</text>
        <rect x="10" y="35" width="120" height="22" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="50" textAnchor="middle" fill="white" fontSize="7">ğŸ›¡ï¸ Prompt injection</text>
        <rect x="10" y="62" width="120" height="22" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="77" textAnchor="middle" fill="white" fontSize="7">ğŸ”’ Jailbreak detection</text>
        <rect x="10" y="89" width="120" height="22" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="104" textAnchor="middle" fill="white" fontSize="7">ğŸ‘¤ PII detection</text>
        <rect x="10" y="116" width="120" height="18" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="129" textAnchor="middle" fill="white" fontSize="7">â˜ ï¸ Toxic content</text>
      </g>
      <path d="M305 100 L345 100" stroke="#a78bfa" strokeWidth="2" markerEnd="url(#arrowPurple)" className="flow-line" strokeDasharray="6 3" />
      <g transform="translate(350, 60)"><rect width="80" height="80" rx="8" fill="url(#purpleGrad)" opacity="0.9" /><text x="40" y="25" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">LLM</text><text x="40" y="45" textAnchor="middle" fill="white" fontSize="7">Generate</text><text x="40" y="62" textAnchor="middle" fill="white" fontSize="7">response</text></g>
      <path d="M435 100 L475 100" stroke="#fb923c" strokeWidth="2" markerEnd="url(#arrowOrange)" />
      <g transform="translate(480, 30)" onMouseMove={(e) => onHover("Output guardrails: Block hallucinations, off-topic, harmful content. Fact-check, topic adherence, safety filters.", e.clientX, e.clientY)} onMouseLeave={() => onHover(null)}><rect width="140" height="140" rx="10" fill="url(#orangeGrad)" opacity="0.9" /><text x="70" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Output Guards</text>
        <rect x="10" y="35" width="120" height="22" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="50" textAnchor="middle" fill="white" fontSize="7">ğŸ¯ Topic adherence</text>
        <rect x="10" y="62" width="120" height="22" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="77" textAnchor="middle" fill="white" fontSize="7">âœ… Fact verification</text>
        <rect x="10" y="89" width="120" height="22" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="104" textAnchor="middle" fill="white" fontSize="7">âš ï¸ Harmful content</text>
        <rect x="10" y="116" width="120" height="18" rx="4" fill="rgba(0,0,0,0.2)" /><text x="70" y="129" textAnchor="middle" fill="white" fontSize="7">ğŸ“‹ Format validation</text>
      </g>
      <path d="M160 175 L160 185 L300 185" stroke="#f87171" strokeWidth="1" strokeDasharray="4 2" /><text x="230" y="195" textAnchor="middle" fill="#f87171" fontSize="7">Block / Sanitize if fails</text>
      <path d="M550 175 L550 185 L420 185" stroke="#fb923c" strokeWidth="1" strokeDasharray="4 2" /><text x="485" y="195" textAnchor="middle" fill="#fb923c" fontSize="7">Retry / Filter if fails</text>
      <text x="350" y="210" textAnchor="middle" fill="#f87171" fontSize="9">âš ï¸ False positives (blocking valid), Latency overhead, Adversarial attacks</text>
    </svg>);

    // Pattern 55: Prompt Versioning & Management
    const PromptManagementDiagram = ({ onHover }) => (<svg viewBox="0 0 700 200" className="w-full h-auto"><GradientDefs />
      <g transform="translate(30, 30)" onMouseMove={(e) => onHover("Version control for prompts. Track changes, A/B test, rollback. Treat prompts as code.", e.clientX, e.clientY)} onMouseLeave={() => onHover(null)}><rect width="160" height="140" rx="10" fill="url(#cyanGrad)" opacity="0.9" /><text x="80" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Prompt Registry</text>
        <rect x="10" y="35" width="140" height="30" rx="4" fill="rgba(0,0,0,0.2)" /><text x="80" y="48" textAnchor="middle" fill="white" fontSize="7" fontWeight="bold">summarize_v3</text><text x="80" y="60" textAnchor="middle" fill="#cffafe" fontSize="6">active | 95% traffic</text>
        <rect x="10" y="70" width="140" height="30" rx="4" fill="rgba(0,0,0,0.2)" /><text x="80" y="83" textAnchor="middle" fill="white" fontSize="7">summarize_v4_test</text><text x="80" y="95" textAnchor="middle" fill="#facc15" fontSize="6">testing | 5% traffic</text>
        <rect x="10" y="105" width="140" height="25" rx="4" fill="rgba(100,116,139,0.3)" /><text x="80" y="121" textAnchor="middle" fill="#94a3b8" fontSize="7">summarize_v2 (archived)</text>
      </g>
      <path d="M195 100 L235 100" stroke="#a78bfa" strokeWidth="2" markerEnd="url(#arrowPurple)" />
      <g transform="translate(240, 25)"><rect width="180" height="150" rx="10" fill="url(#purpleGrad)" opacity="0.9" /><text x="90" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Prompt Template</text>
        <rect x="10" y="35" width="160" height="105" rx="6" fill="rgba(0,0,0,0.3)" />
        <text x="90" y="52" textAnchor="middle" fill="#c4b5fd" fontSize="7" fontFamily="monospace">System: You are a helpful</text>
        <text x="90" y="66" textAnchor="middle" fill="#c4b5fd" fontSize="7" fontFamily="monospace">assistant that summarizes</text>
        <text x="90" y="80" textAnchor="middle" fill="#c4b5fd" fontSize="7" fontFamily="monospace">documents concisely.</text>
        <text x="90" y="98" textAnchor="middle" fill="#facc15" fontSize="7" fontFamily="monospace">{"{{document}}"}</text>
        <text x="90" y="116" textAnchor="middle" fill="#4ade80" fontSize="7" fontFamily="monospace">{"{{format_instructions}}"}</text>
        <text x="90" y="132" textAnchor="middle" fill="#22d3ee" fontSize="6">Variables injected at runtime</text>
      </g>
      <path d="M425 100 L465 100" stroke="#4ade80" strokeWidth="2" markerEnd="url(#arrowGreen)" />
      <g transform="translate(470, 30)"><rect width="180" height="140" rx="10" fill="url(#greenGrad)" opacity="0.9" /><text x="90" y="22" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">Management Features</text>
        <text x="20" y="45" fill="white" fontSize="7">âœ“ Version history (git-like)</text>
        <text x="20" y="62" fill="white" fontSize="7">âœ“ A/B testing traffic splits</text>
        <text x="20" y="79" fill="white" fontSize="7">âœ“ One-click rollback</text>
        <text x="20" y="96" fill="white" fontSize="7">âœ“ Eval metrics per version</text>
        <text x="20" y="113" fill="white" fontSize="7">âœ“ Environment promotion</text>
        <text x="20" y="130" fill="#86efac" fontSize="6">PromptLayer, Humanloop, Portkey</text>
      </g>
      <text x="350" y="190" textAnchor="middle" fill="#f87171" fontSize="9">âš ï¸ Prompt sprawl, Testing coverage, Dependency management</text>
    </svg>);

    function App() {
      const [tooltip, setTooltip] = useState({ text: null, x: 0, y: 0 });
      const handleHover = (text, x, y) => { setTooltip(text ? { text, x, y } : { text: null, x: 0, y: 0 }); };

      const patterns = [
        { id: 52, title: 'LLM Observability', subtitle: 'Trace every call: latency, tokens, cost. Debug and monitor.', Diagram: ObservabilityDiagram, badges: ['Langfuse', 'LangSmith', 'Tracing', 'Cost Tracking'] },
        { id: 53, title: 'LLM Evaluation', subtitle: 'Golden datasets â†’ Run â†’ Score. LLM-as-judge, metrics, CI/CD gates.', Diagram: EvaluationDiagram, badges: ['BLEU/ROUGE', 'LLM-as-Judge', 'Human Eval', 'CI/CD'] },
        { id: 54, title: 'Input/Output Guardrails', subtitle: 'Block injection, jailbreaks, PII, hallucinations. Safety first.', Diagram: GuardrailsDiagram, badges: ['NeMo Guardrails', 'Lakera', 'PII Detection', 'Safety'] },
        { id: 55, title: 'Prompt Versioning & Management', subtitle: 'Version control prompts. A/B test, rollback, environment promotion.', Diagram: PromptManagementDiagram, badges: ['PromptLayer', 'Versioning', 'A/B Testing', 'Rollback'] },
      ];

      return (
        <div className="min-h-screen text-white relative">
          <div className="fixed inset-0 overflow-hidden pointer-events-none">
            <div className="absolute w-[600px] h-[600px] -top-32 -left-32 bg-cyan-500/10 rounded-full blur-3xl pulse-bg" />
            <div className="absolute w-[500px] h-[500px] top-1/3 -right-32 bg-green-500/10 rounded-full blur-3xl pulse-bg" style={{animationDelay: '1s'}} />
          </div>
          <Tooltip text={tooltip.text} x={tooltip.x} y={tooltip.y} />
          <div className="relative max-w-5xl mx-auto px-6 py-12">
            <header className="text-center mb-16">
              <div className="inline-flex items-center gap-2 px-4 py-2 glass rounded-full mb-6">
                <span className="text-cyan-300 font-semibold text-sm tracking-wide">SECTION IX: INFRASTRUCTURE PART 2</span>
              </div>
              <h1 className="text-5xl font-black mb-4 gradient-text">Infrastructure Patterns</h1>
              <p className="text-xl text-slate-400 max-w-2xl mx-auto">Observability, evaluation, guardrails, prompt management. Production excellence.<span className="block mt-2 text-cyan-400 text-base">Patterns 52â€“55 â€¢ âœ¨ Hover for details</span></p>
            </header>
            <div className="grid grid-cols-4 gap-4 mb-12">
              <div className="glass rounded-xl p-4 text-center"><div className="text-3xl font-bold text-cyan-400">4</div><div className="text-slate-400 text-sm">Final Patterns</div></div>
              <div className="glass rounded-xl p-4 text-center"><div className="text-3xl font-bold text-green-400">ğŸ“Š</div><div className="text-slate-400 text-sm">Observability</div></div>
              <div className="glass rounded-xl p-4 text-center"><div className="text-3xl font-bold text-orange-400">ğŸ›¡ï¸</div><div className="text-slate-400 text-sm">Safety</div></div>
              <div className="glass rounded-xl p-4 text-center"><div className="text-3xl font-bold text-purple-400">ğŸ“‹</div><div className="text-slate-400 text-sm">Management</div></div>
            </div>
            <div className="space-y-12">
              {patterns.map((p) => (
                <section key={p.id} className="glass rounded-2xl p-8 hover:border-cyan-500/30 transition-colors">
                  <div className="flex items-center gap-3 mb-6">
                    <div className="w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center text-lg font-bold text-cyan-400">{p.id}</div>
                    <div><h2 className="text-xl font-bold text-cyan-300">{p.title}</h2><p className="text-slate-400 text-sm">{p.subtitle}</p></div>
                  </div>
                  <p.Diagram onHover={handleHover} />
                  <div className="mt-4 flex gap-3 flex-wrap">{p.badges.map(b => <span key={b} className="px-3 py-1 rounded-full bg-cyan-500/10 text-cyan-400 border border-cyan-500/20 text-sm">{b}</span>)}</div>
                </section>
              ))}
            </div>
            <footer className="mt-16 text-center pt-8 border-t border-white/10"><p className="text-slate-500">Part of <span className="text-slate-400">The LLM Symphony</span> â€” Section IX: Infrastructure Part 2</p><p className="text-slate-600 text-sm mt-2">Patterns 52-55 of 55 â€¢ Core patterns complete!</p></footer>
          </div>
        </div>
      );
    }
    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
  <div id="cs2b-copyright-footer" style="position:fixed;bottom:0;left:0;right:0;background:linear-gradient(to right,#0f172a,#1e1b4b);border-top:1px solid #334155;padding:8px 16px;font-family:monospace;font-size:11px;color:#64748b;display:flex;justify-content:space-between;align-items:center;z-index:9999;"><span>Â© 2026 Subramaniyam Pooni</span><span style="color:#8b5cf6;">CSÂ²B Technologies</span><span style="color:#475569;">Enterprise AI Agent Development &amp; LLMOps</span></div>
<div id="cs2b-watermark" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-35deg);pointer-events:none;z-index:9998;white-space:nowrap;user-select:none;text-align:center;"><div style="font-size:100px;font-weight:900;font-family:Arial,sans-serif;color:rgba(139,92,246,0.06);">CSÂ²B Technologies</div><div style="font-size:40px;font-weight:700;font-family:Arial,sans-serif;color:rgba(139,92,246,0.05);">Â© Subramaniyam Pooni</div></div>
</body>
</html>
